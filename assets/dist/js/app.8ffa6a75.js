(function(t){function e(e){for(var s,r,a=e[0],l=e[1],c=e[2],d=0,f=[];d<a.length;d++)r=a[d],i[r]&&f.push(i[r][0]),i[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(f.length)f.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],s=!0,a=1;a<n.length;a++){var l=n[a];0!==i[l]&&(s=!1)}s&&(o.splice(e--,1),t=r(r.s=n[0]))}return t}var s={},i={app:0},o=[];function r(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=s,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(n,s,function(e){return t[e]}.bind(null,s));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var u=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var s=n("c21b"),i=n.n(s);i.a},"0dd4":function(t,e,n){},"148d":function(t,e,n){},1789:function(t,e,n){},"1bb6":function(t,e,n){"use strict";var s=n("1789"),i=n.n(s);i.a},"1fb9":function(t,e,n){"use strict";var s=n("7f69"),i=n.n(s);i.a},3847:function(t,e,n){"use strict";var s=n("4151"),i=n.n(s);i.a},"3b52":function(t,e,n){"use strict";var s=n("737f"),i=n.n(s);i.a},4151:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var s=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{attrs:{id:"app"}},[n("el-main",{attrs:{id:"main-view"}},[n("router-view")],1)],1)},o=[],r={},a=r,l=(n("034f"),n("2877")),c=Object(l["a"])(a,i,o,!1,null,null,null);c.options.__file="App.vue";var u=c.exports,d=n("5c96"),f=n.n(d),p=(n("0fae"),n("8c4f")),_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{attrs:{id:"index-main"}},[n("el-main",[n("h1",[t._v(t._s(t.name))]),n("el-button",{attrs:{round:"",type:"primary"},on:{click:function(e){t.goto("register")}}},[t._v(t._s(t.start_now))]),n("el-button",{attrs:{type:"text"},on:{click:function(e){t.goto("login")}}},[t._v(t._s(t.has_account))])],1)],1)},m=[],g={data:function(){return{name:"基于websocket的聊天软件",start_now:"现在开始",has_account:"已有帐号?"}},methods:{goto:function(t){if(window.scrollTo(0,0),""===t||void 0===t)return window.location.href="#/",!1;window.location.href="#/"+t}}},h=g,v=(n("d44d"),Object(l["a"])(h,_,m,!1,null,null,null));v.options.__file="index.vue";var b=v.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-main",{attrs:{id:"register-view"}},[n("el-form",{ref:"register",attrs:{model:t.register,rules:t.register_rules,id:"register-form"}},[n("el-form-item",{attrs:{error:t.username_err,label:"用户名",prop:"username"}},[n("el-input",{attrs:{placeholder:t.username_pl},model:{value:t.register.username,callback:function(e){t.$set(t.register,"username",e)},expression:"register.username"}})],1),n("el-form-item",{attrs:{label:"密码",prop:"password"}},[n("el-input",{attrs:{type:"password",placeholder:t.password_pl},model:{value:t.register.password,callback:function(e){t.$set(t.register,"password",e)},expression:"register.password"}})],1),n("el-form-item",{attrs:{label:"确认密码",prop:"repassword"}},[n("el-input",{attrs:{type:"password",placeholder:t.repassword_pl},model:{value:t.register.repassword,callback:function(e){t.$set(t.register,"repassword",e)},expression:"register.repassword"}})],1),n("el-form-item",{attrs:{label:"昵称",prop:"name"}},[n("el-input",{attrs:{placeholder:t.name_pl},model:{value:t.register.name,callback:function(e){t.$set(t.register,"name",e)},expression:"register.name"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.onRegister}},[t._v("立即注册")]),n("el-button",{attrs:{type:"text"},on:{click:function(e){t.goto("login")}}},[t._v(t._s(t.has_account))])],1)],1)],1)},y=[],$=(n("7f7f"),{data:function(){var t=this,e=function(e,n,s){""===n?s(new Error("请再次输入密码")):n!==t.register.password?s(new Error("两次输入密码不一致!")):s()};return{register:{username:"",password:"",repassword:"",name:""},register_rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:6,max:16,message:"长度在6到16个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:16,message:"长度在6到16个字符",trigger:"blur"}],repassword:[{required:!0,validator:e,trigger:"blur"}],name:[{required:!0,message:"请输入昵称",trigger:"blur"},{min:1,max:16,message:"长度在6到16个字符",trigger:"blur"}]},username_pl:"不少于6个字符",password_pl:"不少于6个字符",repassword_pl:"再次输入密码",name_pl:"",username_err:"",has_account:"已有帐号?"}},methods:{onRegister:function(){var t=this;t.$refs["register"].validate(function(e){if(!e)return t.$message({message:"注册出错, 请先检查您输入的信息",type:"error"}),!1;var n=t.$url_prefix+"/api/user/register";t.$ajax.post(n,t.$qs.stringify({username:t.register.username,password:t.register.password,name:t.register.name})).then(function(e){console.log(e),t.goto("chat")}).catch(function(e){console.log(e.response);var n=e.response.status;return 409===n?(t.$message({message:"用户名已被注册",type:"error"}),t.username_err="用户名已被注册",!1):(t.$message({message:"发生了一些意料之外的错误",type:"error"}),!1)})})},goto:function(t){if(window.scrollTo(0,0),""===t||void 0===t)return window.location.href="#/",!1;window.location.href="#/"+t}}}),x=$,C=(n("f130"),Object(l["a"])(x,w,y,!1,null,null,null));C.options.__file="regiter.vue";var k=C.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-main",{attrs:{id:"login-view"}},[n("el-form",{ref:"login",attrs:{model:t.login,rules:t.login_rules,id:"login-form"}},[n("el-form-item",{attrs:{error:t.username_err,label:"用户名",prop:"username"}},[n("el-input",{attrs:{placeholder:t.username_pl},model:{value:t.login.username,callback:function(e){t.$set(t.login,"username",e)},expression:"login.username"}})],1),n("el-form-item",{attrs:{error:t.password_err,label:"密码",prop:"password"}},[n("el-input",{attrs:{type:"password",placeholder:t.password_pl},model:{value:t.login.password,callback:function(e){t.$set(t.login,"password",e)},expression:"login.password"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.onLogin}},[t._v("登录")]),n("el-button",{attrs:{type:"text"},on:{click:function(e){t.goto("register")}}},[t._v(t._s(t.no_account))])],1)],1)],1)},O=[],E={data:function(){return{login:{username:"",password:""},login_rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:6,max:16,message:"用户名有误",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:16,message:"密码错误",trigger:"blur"}]},username_err:"",password_err:"",username_pl:"请输入您的用户名",password_pl:"请输入您的密码",no_account:"尚未注册?"}},methods:{onLogin:function(){var t=this;t.$refs["login"].validate(function(e){if(!e)return t.$message({message:"登录出错, 请先检查您输入的信息",type:"error"}),!1;var n=t.$url_prefix+"/api/user/login";t.$ajax.post(n,t.$qs.stringify({username:t.login.username,password:t.login.password})).then(function(e){console.log(e),t.goto("chat")}).catch(function(e){console.log(e.response);var n=e.response.status;return 404===n?(t.$message({message:"用户名不存在",type:"error"}),t.username_err="用户名不存在",!1):400===n?(t.$message({message:"密码错误",type:"error"}),t.username_err="密码错误",!1):(t.$message({message:"发生了一些意料之外的错误",type:"error"}),!1)})})},goto:function(t){if(window.scrollTo(0,0),""===t||void 0===t)return window.location.href="#/",!1;window.location.href="#/"+t}}},q=E,M=(n("66c0"),Object(l["a"])(q,j,O,!1,null,null,null));M.options.__file="login.vue";var L=M.exports,S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{attrs:{id:"chat-view"}},[n("el-aside",{staticClass:"chat-list-view"},[n("el-container",{staticClass:"chat-list-inner-wrapper"},[n("el-col",{staticClass:"function-icon",attrs:{span:5}},[n("icon-list",{attrs:{friend_list:t.friends},on:{new_group:t.new_group,add_friend:t.add_friend,update_info:t.update_info}})],1),n("el-col",{attrs:{span:19}},[n("el-row",{staticClass:"my-info"},[n("user-info",{attrs:{info:t.my_info}})],1),n("el-row",{staticClass:"list-view"},[n("el-row",{staticClass:"button-wrapper"},[n("el-col",{staticClass:"list-button-wrapper no-left-border no-right-border",attrs:{span:12}},[n("el-button",{ref:"btn_chat_list",staticClass:"list-button",attrs:{plain:"",type:"primary"},on:{click:function(e){t.changeListMode("chat")}}},[t._v("聊天列表")])],1),n("el-col",{staticClass:"list-button-wrapper no-right-border",attrs:{span:12}},[n("el-button",{ref:"btn_friend_list",staticClass:"list-button",attrs:{plain:"",type:"primary"},on:{click:function(e){t.changeListMode("friend")}}},[t._v("好友列表")])],1)],1),n("el-row",{staticClass:"list-content"},["chat"===t.list_mode?n("chat-list",{attrs:{chats:t.chat_list,text_limit:t.limit.text_limit},on:{open_chat:t.init_chat}}):n("friend-list",{attrs:{friends:t.friends,text_limit:t.limit.text_limit},on:{chat_with:t.chat_with}})],1)],1)],1)],1)],1),n("el-main",{staticClass:"chat-main-view"},[n("el-container",{staticClass:"chat-space"},[n("el-header",{staticClass:"group-info"},[n("group-info",{attrs:{name:t.focused_group.name}})],1),n("el-main",{staticClass:"msg-list"},[n("msg-list",{attrs:{messages:t.focused_group.msg,myname:t.my_info.name}})],1),n("el-footer",{staticClass:"msg-sender"},[n("msg-sender",{on:{send:t.send_msg}})],1)],1)],1)],1)},T=[],P={data:function(){return{arr:[],socket:null,socket_url:"ws://localhost:1212/socket",limit:{text_limit:10},list_mode:"chat",my_info:{uid:"123123123123123",name:"雷布斯",bio:"个性签名",display_id:"123321123"},focused_group:{gid:"",name:"",msg:this.arr},friends:[{info:{uid:"3213123321123",name:"张益达",display_id:"321123321",bio:"我心里有一个秘密, 不打算告诉任何人"},gid:"1233211232"},{info:{uid:"123321123",name:"小红",display_id:"321123321",bio:"真正的装逼，敢于直面本身没有厚度的脸皮。"},gid:"1233211231"}],chat_list:[{name:"开心群聊",gid:"123321123",unread:!0,show_msg:{mid:"1233211232",from_name:"张益达",content:"zz",time:"2018-06-06 14:12:23"},msg:[]},{name:"小红",gid:"1233211231",unread:!1,show_msg:{mid:"123321121",from_name:"小红",content:"一直勉强相处,总会累垮",time:"2018-06-06 14:12:23"},msg:[]}]}},methods:{update_unread:function(t,e){console.log(t),console.log(e)},new_group:function(t){var e=this;-1===t.indexOf(e.my_info.uid)&&t.push(e.my_info.uid),console.log(t)},add_friend:function(t){console.log(t)},update_info:function(t){console.log(t)},handle_msg:function(t){},chat_with:function(t){var e=this,n=!1,s={};e.changeListMode("chat");for(var i=0;i<e.chat_list.length;i++)void 0!==e.chat_list[i].gid&&e.chat_list[i].gid===t.gid&&(s=e.chat_list[i],e.chat_list.splice(i,1),e.chat_list.unshift(s),n=!0);console.log(n),n||(s={name:t.info.name,gid:t.gid,unread:!1,show_msg:{mid:"12309123",from_name:t.info.name,content:"ok",time:"2018-06-06 14:12:23"}},e.chat_list.unshift(s)),e.init_chat(s)},changeListMode:function(t){this.list_mode=t},init_chat:function(t){console.log(t);var e=this;e.focused_group=t,void 0!==e.focused_group.msg&&e.focused_group.msg!==[]||void 0!==e.focused_group.show_msg&&(e.arr=[],e.arr.push(e.focused_group.show_msg),e.focused_group.msg=e.arr),console.log(e.focused_group),e.chat_list[e.chat_list.indexOf(t)].unread=!1,e.update_unread(t.gid,t.msg.mid)},send_msg:function(t){var e=this;return e.socket.send(JSON.stringify({to:e.focused_group.gid,type:"text",content:t})),e.focused_group.msg.push({from_name:e.my_info.name,time:"2018-09-20 16:18:24",content:t}),console.log(e.focused_group.msg),!1},init_socket:function(){var t=this;null===t.socket&&(t.socket=new WebSocket(t.socket_url),t.socket.onopen=function(t){console.log("Connection open ...")},t.socket.onmessage=function(e){console.log("Received Message: "),console.log(e),t.handle_msg(e.data),t.$notify({title:"通知",message:"您收到一条新消息"})},t.socket.onclose=function(e){console.log("Connection closed."),t.$message({message:"您与服务器已断开连接",type:"info"})},t.socket.onerror=function(e){console.log(e),t.$message({message:"与服务器连接出错",type:"error"})})},init_info:function(){var t=this,e=t.$url_prefix+"/api/user/info";t.$ajax.post(e,t.$qs.stringify({})).then(function(e){console.log(e),t.my_info=e.data.data}).catch(function(t){return console.log(t.response),!1})},init_chat_list:function(){var t=this,e=t.$url_prefix+"/api/list/get",n="";t.$ajax.post(e,t.$qs.stringify({})).then(function(e){console.log(e),""===e.data.data&&(e.data.data=[]),t.chat_list=e.data.data;for(var s=0;s<t.chat_list.length;s++)n+=t.chat_list[s].gid,s<t.chat_list[s].length-1&&(n+=";")}).catch(function(t){return console.log(t.response),!1});var s=t.$url_prefix+"/api/message/list";t.$ajax.post(s,t.$qs.stringify({gids:n})).then(function(e){console.log(e),""===e.data.data&&(e.data.data={});for(var n=0;n<t.chat_list.length;n++)void 0!==e.data.data[t.chat_list[n].gid]&&(t.chat_list[n].show_msg=e.data.data[t.chat_list[n].gid].show_msg,t.chat_list[n].unread=e.data.data[t.chat_list[n].gid].unread,t.chat_list[n].msg=[])}).catch(function(t){return console.log(t.response),!1})},init_friend_list:function(){var t=this,e=t.$url_prefix+"/api/friend/list";t.$ajax.post(e,t.$qs.stringify({})).then(function(e){console.log(e),""===e.data.data&&(e.data.data=[]),t.friends=e.data.data}).catch(function(t){return console.log(t.response),!1})},login_required:function(){var t=this,e=t.$url_prefix+"/api/user/islogin";t.$ajax.post(e,t.$qs.stringify({})).then(function(t){return!1}).catch(function(e){return console.log(e.response),t.goto("login"),t.$message({message:"请先登录",type:"info"}),!1})},goto:function(t){if(window.scrollTo(0,0),""===t||void 0===t)return window.location.href="#/",!1;window.location.href="#/"+t}},mounted:function(){this.login_required(),this.init_info(),this.init_chat_list(),this.init_friend_list(),this.init_socket(),this.changeListMode("chat"),console.log(this.socket)},watch:{list_mode:function(){this.$refs.btn_chat_list.$el.style.backgroundColor="",this.$refs.btn_chat_list.$el.style.color="",this.$refs.btn_friend_list.$el.style.backgroundColor="",this.$refs.btn_friend_list.$el.style.color="","chat"===this.list_mode?(this.$refs.btn_chat_list.$el.style.backgroundColor="#409EFF",this.$refs.btn_chat_list.$el.style.color="#ffffff"):(this.$refs.btn_friend_list.$el.style.backgroundColor="#409EFF",this.$refs.btn_friend_list.$el.style.color="#ffffff")}}},D=P,F=(n("df13"),Object(l["a"])(D,S,T,!1,null,null,null));F.options.__file="chat.vue";var z=F.exports;s["default"].use(p["a"]);var J=new p["a"]({routes:[{path:"/",name:"index",component:b,meta:{}},{path:"/register",name:"register",component:k,meta:{}},{path:"/login",name:"login",component:L,meta:{}},{path:"/chat",name:"chat",component:z,meta:{}}]}),N=!1;J.beforeEach(function(t,e,n){N||(N=!0),n()});var R=J,I=n("bc3a"),A=n.n(I),W=n("a7fe"),B=n.n(W),G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",{staticClass:"chat-list-wrapper"},t._l(t.chats,function(e){return n("el-button",{staticClass:"chat",on:{click:function(n){t.open_chat(e)}}},[n("el-card",{staticClass:"chat-card",attrs:{shadow:"hover"}},[n("el-row",{staticClass:"chat-title"},[n("el-col",{staticClass:"chat-name",attrs:{span:15}},[t._v(t._s(e.name))]),e.unread?n("el-badge",{attrs:{"is-dot":""}},[n("el-col",{staticClass:"chat-time",attrs:{span:9}},[t._v(t._s(e.show_msg.time))])],1):n("el-col",{staticClass:"chat-time",attrs:{span:9}},[t._v(t._s(e.show_msg.time))])],1),n("div",{staticClass:"chat-last-msg"},[t._v(t._s(t.shorter(e.show_msg.from_name+": "+e.show_msg.content)))])],1)],1)}))},H=[],K={props:["chats","text_limit"],methods:{shorter:function(t){var e=t;return e.length>=this.text_limit&&(e=e.substring(0,this.text_limit-3)+"..."),e},open_chat:function(t){this.$emit("open_chat",t)}}},Q=K,U=(n("3847"),Object(l["a"])(Q,G,H,!1,null,null,null));U.options.__file="chat_list.vue";var V=U.exports,X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",{staticClass:"friend-list-wrapper"},t._l(t.friends,function(e){return n("el-button",{staticClass:"friend",on:{click:function(n){t.chat_with(e)}}},[n("el-card",{staticClass:"friend-card",attrs:{shadow:"hover"}},[n("div",{staticClass:"friend-name"},[t._v(t._s(e.info.name))]),n("div",{staticClass:"friend-display_id"},[t._v(t._s("display id: "+e.info.display_id))]),n("div",{staticClass:"friend-bio"},[t._v(t._s(t.shorter(e.info.bio)))])])],1)}))},Y=[],Z={props:["friends","text_limit"],methods:{shorter:function(t){var e=t;return e.length>=this.text_limit&&(e=e.substring(0,this.text_limit-3)+"..."),e},chat_with:function(t){this.$emit("chat_with",t)}}},tt=Z,et=(n("8264"),Object(l["a"])(tt,X,Y,!1,null,null,null));et.options.__file="friend_list.vue";var nt=et.exports,st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",{staticClass:"user-info-wrapper"},[n("h1",{staticClass:"name"},[t._v(t._s(t.info.name))]),n("h5",{staticClass:"display_id"},[t._v(t._s("display id: "+t.info.display_id))]),n("p",{staticClass:"bio"},[t._v("    "+t._s(t.info.bio))])])},it=[],ot={props:["info"]},rt=ot,at=(n("beb6"),Object(l["a"])(rt,st,it,!1,null,null,null));at.options.__file="user_info.vue";var lt=at.exports,ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",{staticClass:"icon-wrapper"},[n("el-row",{staticClass:"icon"},[n("el-button",{attrs:{circle:"",icon:"el-icon-plus"},on:{click:t.new_group_dialog}}),n("el-dialog",{attrs:{title:"新建群组",visible:t.new_group_visible},on:{"update:visible":function(e){t.new_group_visible=e}}},[n("el-transfer",{attrs:{titles:["好友列表","添加进群组"],data:t.all_friends},model:{value:t.choosen,callback:function(e){t.choosen=e},expression:"choosen"}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:t.cancel}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.new_group}},[t._v("确 定")])],1)],1)],1),n("el-row",{staticClass:"icon"},[n("el-button",{attrs:{circle:"",icon:"el-icon-search"},on:{click:t.add_friend_dialog}}),n("el-dialog",{attrs:{title:"添加好友",visible:t.add_friend_visible},on:{"update:visible":function(e){t.add_friend_visible=e}}},[n("span",[t._v("请输入对方的Display ID: ")]),n("el-input",{attrs:{placeholder:"请输入对方的Display ID"},model:{value:t.friend_display_id,callback:function(e){t.friend_display_id=e},expression:"friend_display_id"}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:t.cancel}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.add_friend}},[t._v("确 定")])],1)],1)],1),n("el-row",{staticClass:"icon"},[n("el-button",{attrs:{circle:"",icon:"el-icon-setting"},on:{click:t.update_info_dialog}}),n("el-dialog",{attrs:{title:"更改信息",visible:t.update_info_visible},on:{"update:visible":function(e){t.update_info_visible=e}}},[n("span",[t._v("请输入新的个性签名")]),n("el-input",{attrs:{type:"textarea",resize:"none",placeholder:"请输入新的个性签名"},model:{value:t.new_bio,callback:function(e){t.new_bio=e},expression:"new_bio"}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:t.cancel}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.update_info}},[t._v("确 定")])],1)],1)],1)],1)},ut=[],dt={props:["friend_list"],data:function(){return{new_group_visible:!1,add_friend_visible:!1,update_info_visible:!1,all_friends:[],choosen:[],friend_display_id:"",new_bio:""}},methods:{new_group:function(){if(0===this.choosen.length)return this.cancel(),!1;this.$emit("new_group",this.choosen),this.hidden_dialog()},new_group_dialog:function(){var t=this;t.all_friends=[],t.choosen=[];for(var e=0;e<t.friend_list.length;e++)t.all_friends.push({key:t.friend_list[e].info.uid,label:t.friend_list[e].info.name});t.new_group_visible=!0},add_friend:function(){var t=this.friend_display_id.trim();if(0===t.length)return this.cancel(),!1;this.$emit("add_friend",t),this.hidden_dialog()},add_friend_dialog:function(){this.add_friend_visible=!0,this.friend_display_id=""},update_info:function(){var t=this.new_bio.trim();if(0===t.length)return this.cancel(),!1;this.$emit("update_info",t),this.hidden_dialog()},update_info_dialog:function(){this.update_info_visible=!0,this.new_bio=""},cancel:function(){this.new_group_visible=!1,this.add_friend_visible=!1,this.update_info_visible=!1},hidden_dialog:function(){this.new_group_visible=!1,this.add_friend_visible=!1,this.update_info_visible=!1}}},ft=dt,pt=(n("6a95"),Object(l["a"])(ft,ct,ut,!1,null,null,null));pt.options.__file="icon_list.vue";var _t=pt.exports,mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",{staticClass:"group-info-wrapper"},[n("p",[t._v(t._s(t.name))])])},gt=[],ht={props:["name"],data:function(){return{}}},vt=ht,bt=(n("1bb6"),Object(l["a"])(vt,mt,gt,!1,null,null,null));bt.options.__file="group_info.vue";var wt=bt.exports,yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",{staticClass:"msg-list-wrapper"},t._l(t.messages,function(e){return n("el-row",{staticClass:"flex"},[e.from_name!==t.myname?n("el-row",{staticClass:"left"},[n("p",{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}]},[t._v(t._s(e.from_name)+" ("+t._s(e.time)+"): "),n("span",{staticClass:"msg-content"},[t._v(" "+t._s(e.content)+" ")])])]):n("el-row",{staticClass:"right"},[n("p",{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}]},[n("span",{staticClass:"msg-content"},[t._v(" "+t._s(e.content)+" ")]),t._v(" :("+t._s(e.time)+") "+t._s(e.from_name))])])],1)}))},$t=[],xt={props:["messages","myname"]},Ct=xt,kt=(n("1fb9"),Object(l["a"])(Ct,yt,$t,!1,null,null,null));kt.options.__file="msg_list.vue";var jt=kt.exports,Ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",{staticClass:"msg-sender-wrapper"},[n("el-col",{staticClass:"input-area",attrs:{span:21}},[n("el-input",{staticClass:"msg-input",attrs:{type:"textarea",placeholder:"请输入内容"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.send(e):null}},model:{value:t.input_msg,callback:function(e){t.input_msg=e},expression:"input_msg"}})],1),n("el-col",{staticClass:"button-area",attrs:{span:3}},[n("el-button",{staticClass:"send-button",attrs:{plain:""},on:{click:t.send}},[t._v("发送")])],1)],1)},Et=[],qt={data:function(){return{input_msg:""}},methods:{send:function(){this.$emit("send",this.input_msg),this.input_msg=""}}},Mt=qt,Lt=(n("3b52"),Object(l["a"])(Mt,Ot,Et,!1,null,null,null));Lt.options.__file="msg_sender.vue";var St=Lt.exports,Tt=n("4328"),Pt=n.n(Tt);s["default"].config.productionTip=!1,s["default"].use(f.a,A.a,B.a),s["default"].component("chat-list",V),s["default"].component("friend-list",nt),s["default"].component("user-info",lt),s["default"].component("icon-list",_t),s["default"].component("group-info",wt),s["default"].component("msg-list",jt),s["default"].component("msg-sender",St),s["default"].prototype.$ajax=A.a,s["default"].prototype.$qs=Pt.a;var Dt="";s["default"].prototype.$debugMode=Dt,s["default"].prototype.$url_prefix="debug"===Dt?"/debug":"",new s["default"]({router:R,render:function(t){return t(u)}}).$mount("#app")},"66c0":function(t,e,n){"use strict";var s=n("148d"),i=n.n(s);i.a},"6a95":function(t,e,n){"use strict";var s=n("ca53"),i=n.n(s);i.a},"737f":function(t,e,n){},"7f69":function(t,e,n){},8264:function(t,e,n){"use strict";var s=n("c7e2"),i=n.n(s);i.a},"9fbd":function(t,e,n){},a67e:function(t,e,n){},beb6:function(t,e,n){"use strict";var s=n("9fbd"),i=n.n(s);i.a},c21b:function(t,e,n){},c7e2:function(t,e,n){},ca53:function(t,e,n){},d44d:function(t,e,n){"use strict";var s=n("0dd4"),i=n.n(s);i.a},df13:function(t,e,n){"use strict";var s=n("f592"),i=n.n(s);i.a},f130:function(t,e,n){"use strict";var s=n("a67e"),i=n.n(s);i.a},f592:function(t,e,n){}});
//# sourceMappingURL=app.8ffa6a75.js.map